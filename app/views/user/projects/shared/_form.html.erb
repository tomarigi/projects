<div class="form-group">
  <%= f.label :title, 'プロジェクト名' %>
  <%= f.text_field :title, class: 'form-control', required: true %>
</div>
<div class="form-group">
  <!-- TODO: add file input -->
  <%= f.label :main_image, 'メイン画像' %>
  <%= f.text_field :main_image, class: 'form-control' %>
</div>
<div class="form-group">
  <%= f.label :description, '紹介文' %>
  <%= f.text_area :description, class: 'form-control', rows: 10, required: true %>
</div>
<div class="form-group">
  <%= f.label :is_published, '公開' %>
  <%= f.check_box :is_published, value: true %>
</div>

<script src="https://cdn.rawgit.com/showdownjs/showdown/1.7.4/dist/showdown.min.js"></script>
<script type="text/javascript" charset="utf-8">

    var $textarea = $('#project_description');
    var converter = new (showdown.Converter);

    $(function () {
        put_value()
    });

    $textarea.on('keyup', function () {
        put_value();
    });
    
    function put_value() {
        var val = $textarea.val();
        var html = converter.makeHtml(val);

        $('#markdown-preview').html(html);
    }
</script>